import*as s from"react";import p from"./e";let d=(r,a)=>r===a,f={};function F(r,a=d){let n=s.useRef(f),e=n.current;return p(()=>{n.current=e}),(n.current===f||!a(r,n.current))&&(e=r),e}function y(r,a){let n=[],e=r;function u(t,T){let o=e;e=t instanceof Function?t(e):t,setTimeout(()=>{n.forEach(c=>c(e)),T&&T(e),a&&a.onSet&&a.onSet(e,o)})}function S(t){p(()=>(n.push(t),()=>{n=n.filter(T=>T!==t)}),[t])}function l(){let[t,T]=s.useState(e);return S(T),[t,u]}function v(t,T=d){const[o,c]=s.useState();return S(w=>{const i=t(w);T(i,o)||c(i)}),o}return{use:l,useSelector:v,useValue:()=>l()[0],get:()=>e,set:u,reset:()=>u(r)}}export{y as newRidgeState};
